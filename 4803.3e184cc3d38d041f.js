"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[4803],{4803:(L,m,a)=>{a.r(m),a.d(m,{ChangePasswordModule:()=>G});var g=a(6895),h=a(4364),n=(a(8512),a(4006)),f=a(5226),c=a.n(f),p=a(3561),o=a(4650),v=a(2820),w=a(5620),C=a(6102),P=a(2316),I=a(6991),A=a(9366),u=a(9549);function Z(s,r){1&s&&(o.TgZ(0,"div")(1,"mat-error",24),o._uU(2," Confirm Password Mismatch "),o.qZA()())}function b(s,r){1&s&&(o.TgZ(0,"div")(1,"p",25)(2,"b"),o._uU(3,"Password is Mismatch "),o.qZA()()())}function U(s,r){1&s&&(o.TgZ(0,"mat-error",27),o._uU(1," User Password is required"),o.qZA())}function N(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,U,2,0,"mat-error",26),o.qZA()),2&s){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.changePasswordFormGroup.controls.password.errors.required)}}function T(s,r){if(1&s){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.onUpdatePassword())}),o._UZ(1,"i",22),o._uU(2,"\xa0 Change Password"),o.qZA()}}const y=[{path:"",component:(()=>{class s{constructor(t,e,i,d,z,O){this.reportService=t,this.commonService=e,this.courseService=i,this.studentToCourseService=d,this.transactionServicesService=z,this.authService=O,this.organisationId=0,this.UserID=0,this.organisationName="",this.organisationAddress="",this.organisationPin="",this.organisationContact="",this.organisationEmail="",this.organizationArray=[],this.comfirmPasswordBoolean=!1,this.isBtnVisible=!1;const l=localStorage.getItem("user");l&&(this.UserID=JSON.parse(l).uniqueId,this.organisationId=JSON.parse(l).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId))}ngOnInit(){this.transactionServicesService.fetchOrganizationDetails(this.organisationId).subscribe(t=>{this.organizationArray=t.data,console.log("organizationArray:",this.organizationArray),this.organisationName=t.data[0].organisation_name,this.organisationAddress=t.data[0].address,this.organisationPin=t.data[0].pin,this.organisationEmail=t.data[0].email_id,this.organisationContact=t.data[0].whatsapp_number,console.log("organisation_name:",this.organisationName)}),this.changePasswordFormGroup=new n.cw({password:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)]),confirm_password:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)])})}onClear(){this.isBtnVisible=!1,this.changePasswordFormGroup=new n.cw({password:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)]),confirm_password:new n.NI(null,[n.kI.required,n.kI.maxLength(255),n.kI.minLength(4)])})}onBlur(t){this.password=this.changePasswordFormGroup.get("password")?.value,console.log("confirm password:",t.target.value),console.log("password:",this.password),this.comfirmPasswordBoolean=this.password===t.target.value}onUpdatePassword(){const e=(new p.V).appendStr(this.changePasswordFormGroup.value.password).end();this.changePasswordData={userId:this.UserID,password:e},c().fire({title:"Are you sure?",text:"Save This Record...!",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(i=>{i.isConfirmed?this.authService.changePasswordUser(this.changePasswordData).subscribe(d=>{1===d.success&&(c().fire({position:"top-end",icon:"success",title:"Password has been Changed!",showConfirmButton:!1,timer:1500}),this.onClear())},d=>{c().fire({icon:"error",title:"Duplicate Entry ..!!",text:d,footer:"<a href>Why do I have this issue?</a>",timer:0})}):i.dismiss===c().DismissReason.cancel&&c().fire("Cancelled","Your imaginary file is safe :)","error")})}}return s.\u0275fac=function(t){return new(t||s)(o.Y36(v.r),o.Y36(w.v),o.Y36(C.N),o.Y36(P.p),o.Y36(I.D),o.Y36(A.e))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-change-password"]],decls:38,vars:10,consts:[[1,"container-fluid","page"],[1,"header"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-md-8","dash"],[1,"bi","bi-speedometer2"],[1,"col-md-4","comdtl"],[1,"comname"],[1,"bi","bi-envelope-fill"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-geo-alt-fill"],[1,"card","text-center",2,"color","black"],[1,"card-header"],[4,"ngIf"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-sm-6"],["formControlName","password","type","password","placeholder","New Password",1,"form-control","pass-custom"],["formControlName","confirm_password","type","password","placeholder","Confirm Password",1,"form-control","pass-custom",3,"blur"],[1,"row","p-2","card-footer","text-muted"],[1,"col-sm-12","text-center"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-save"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],[1,"text-center"],[2,"color","green"],["class","text-right",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"i",4),o._uU(5,"\xa0Change Password"),o.qZA(),o.TgZ(6,"div",5)(7,"span",6),o._uU(8),o._UZ(9,"br"),o.qZA(),o._UZ(10,"hr")(11,"i",7),o._uU(12),o._UZ(13,"br")(14,"i",8),o._uU(15),o._UZ(16,"br")(17,"i",9),o._uU(18),o.qZA()()(),o.TgZ(19,"div",10)(20,"div",11),o.YNc(21,Z,3,0,"div",12),o.YNc(22,b,4,0,"div",12),o.qZA(),o.TgZ(23,"div",13)(24,"form",14)(25,"div",15)(26,"div",16),o._UZ(27,"input",17),o.YNc(28,N,2,1,"div",12),o.qZA(),o.TgZ(29,"div",16)(30,"input",18),o.NdJ("blur",function(d){return e.onBlur(d)}),o.qZA()(),o.TgZ(31,"div",19)(32,"div",20)(33,"button",21),o.NdJ("click",function(){return e.onClear()}),o._UZ(34,"i",22),o._uU(35,"\xa0Clear"),o.qZA(),o._uU(36," \xa0 \xa0 "),o.YNc(37,T,3,0,"button",23),o.qZA()()()()()()()),2&t&&(o.xp6(8),o.hij("",e.organisationName," "),o.xp6(4),o.hij("\xa0 Email : ",e.organisationEmail," "),o.xp6(3),o.hij("\xa0 Contact Number : ",e.organisationContact,""),o.xp6(3),o.AsE("\xa0 Address : ",e.organisationAddress,", Pin - ",e.organisationPin," "),o.xp6(3),o.Q6J("ngIf",!e.comfirmPasswordBoolean),o.xp6(1),o.Q6J("ngIf",e.comfirmPasswordBoolean),o.xp6(2),o.Q6J("formGroup",e.changePasswordFormGroup),o.xp6(4),o.Q6J("ngIf",e.changePasswordFormGroup.controls.password.errors&&e.changePasswordFormGroup.controls.password.touched),o.xp6(9),o.Q6J("ngIf",e.changePasswordFormGroup.valid&&e.comfirmPasswordBoolean&&!e.isBtnVisible))},dependencies:[g.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,u.TO],styles:["body[_ngcontent-%COMP%]{overflow-x:hidden}.page[_ngcontent-%COMP%]{color:#fff;padding:0 0rem;background:#f1f5f9}.header[_ngcontent-%COMP%]{background-color:#383838;padding:0;font-size:2em;margin:0}.comdtl[_ngcontent-%COMP%]{font-size:.5em}.comname[_ngcontent-%COMP%]{font-size:1.5em;font-weight:800;letter-spacing:.1em;color:#7cf4ff}"]}),s})()}];let x=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[h.Bz.forChild(y),h.Bz]}),s})();var B=a(7392),S=a(4850),J=a(6338),M=a(8255),F=a(3683),Y=a(3848),D=a(4144);let G=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[g.ez,x,n.u5,n.UX,u.lN,B.Ps,S.t,J.ie,M.Tx,F.g0,Y.Nh,D.c]}),s})()}}]);