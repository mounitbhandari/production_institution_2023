"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[251],{4259:(A,d,i)=>{i.r(d),i.d(d,{MarksheetModule:()=>C});var c=i(6895),l=i(4364),s=i(4006),t=i(4650),g=i(5620),S=i(2820),L=i(6102),v=i(8796);function u(n,h){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",17),t.qZA()()),2&n){const o=h.$implicit;t.xp6(2),t.Oqu(o.subject_id),t.xp6(2),t.Oqu(o.subject_full_name)}}function b(n,h){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"tr")(3,"td")(4,"h1"),t._uU(5),t.qZA()()(),t.YNc(6,u,7,2,"tr",13),t.qZA(),t.TgZ(7,"button",16),t.NdJ("click",function(){const m=t.CHM(o).$implicit,P=t.oxw();return t.KtG(P.onSaveMarks(m))}),t._uU(8," Save "),t.qZA(),t.BQk()}if(2&n){const o=h.$implicit,a=h.index,p=t.oxw();t.xp6(5),t.AsE("",a+1,"\xa0",o.ledger_name,""),t.xp6(1),t.Q6J("ngForOf",p.subjectsArray)}}const e=[{path:"",component:(()=>{class n{constructor(o,a,p){this.commonService=o,this.reportService=a,this.courseService=p,this.UserID=0,this.organisationId=0,this.studentsArray=[],this.subjectsArray=[],this.courseArray=[],this.tempObject={};const m=localStorage.getItem("user");m&&(this.UserID=JSON.parse(m).uniqueId,this.organisationId=JSON.parse(m).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId)),this.getCourseList(this.organisationId)}ngOnInit(){this.marksheetFormGroup=new s.cw({course_id:new s.NI(null,[s.kI.required]),marks:new s.NI(null,[s.kI.required])})}onSaveMarks(o){const a=this.marksheetFormGroup.value.marks;console.log("save data:",o),console.log("save marks:",a)}getCourseList(o){this.courseService.fetchAllCourses(o).subscribe(a=>{this.courseArray=a.data,console.log("courseList:",this.courseArray)})}getStudentList(o){this.reportService.fetchStudentMarksList(o).subscribe(a=>{this.studentsArray=a.data,console.log("studentsArray:",this.studentsArray)})}getSubjectList(o){this.reportService.fetchSubjectListByCourseId(o).subscribe(a=>{this.subjectsArray=a.data,console.log("subjectsArray:",this.subjectsArray)})}chooseSubject(o){console.log(o),this.getSubjectList(o.id),this.tempObject={couseId:o.id,organisationId:this.organisationId},this.getStudentList(this.tempObject)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(g.v),t.Y36(S.r),t.Y36(L.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-marksheet"]],decls:22,vars:4,consts:[["align","center"],[1,"container"],[3,"formGroup"],[1,"main-dev",2,"background-color","rgb(214, 212, 212)"],[1,"row","p-3"],[1,"col-sm-5"],["fxFlex","100","bindLabel","full_name","bindValue","id","appendTo","body","formControlName","course_id","placeholder","select Course / Class Name",1,"custom",3,"items","change"],[1,"detail-div",2,"background-color","rgb(241, 188, 188)"],["id","student-div"],["id","marks-div"],[1,"row"],[1,"col-sm-6"],[1,"table","table-hover","table-striped"],[4,"ngFor","ngForOf"],[2,"background-color","yellow","color","black"],[2,"background-color","aquamarine"],["type","button",1,"btn","btn-success",3,"click"],["type","text","formControlName","marks","placeholder","Enter Marks","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control"]],template:function(o,a){1&o&&(t.TgZ(0,"u")(1,"h1",0),t._uU(2," Marksheet Entry Form "),t.qZA()(),t.TgZ(3,"div",1)(4,"form",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"ng-select",6),t.NdJ("change",function(m){return a.chooseSubject(m)}),t.qZA()()()(),t.TgZ(9,"div",7),t._UZ(10,"div",8),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"table",12)(15,"tbody"),t.YNc(16,b,9,3,"ng-container",13),t.qZA()()(),t.TgZ(17,"div",11)(18,"pre",14),t._uU(19,"                "),t._uU(20),t._uU(21,"\n              "),t.qZA()()()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",a.marksheetFormGroup),t.xp6(4),t.Q6J("items",a.courseArray),t.xp6(8),t.Q6J("ngForOf",a.studentsArray),t.xp6(4),t.hij("\n                marksheetFormGroup = ",a.marksheetFormGroup.value,"\n               "))},dependencies:[c.sg,v.w9,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(e),l.Bz]}),n})();var I=i(7466),R=i(5593),M=i(4144),D=i(9602),E=i(3238),y=i(1740);let C=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,f,I.U$,R.hJ,v.A0,s.u5,s.UX,M.c,D.FA,E.XK,y.j]}),n})()},2820:(A,d,i)=>{i.d(d,{r:()=>v});var c=i(262),l=i(7579),s=i(8505),t=i(4650),g=i(5620),S=i(4889),L=i(529);let v=(()=>{class u{constructor(r,e,f){this.commonService=r,this.errorService=e,this.http=f,this.incomeReportList=[],this.newsDataList=[],this.incomeReportSubject=new l.x}fetchPivotTableIncomeList(r){return this.newsDataList=[],this.http.get(this.commonService.getAPI()+"/getPivotTableIncomeListReport/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}fetchPivotTableAdmissionList(r){return this.newsDataList=[],this.http.get(this.commonService.getAPI()+"/getPivotTableAdmissionList/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}fetchStudentMarksList(r){return this.newsDataList=[],this.http.post(this.commonService.getAPI()+"/getMarkStudents",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}fetchSubjectListByCourseId(r){return this.newsDataList=[],this.http.get(this.commonService.getAPI()+"/getSubjectsByCourseId/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}fetchStudentNewsListReport(r){return this.http.post(this.commonService.getAPI()+"/getStudentNewsList",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{console.log("at service newsDataList:",e),1===e.success&&this.newsDataList.unshift(e.data)}))}fetchStudentSyllabusListReport(r){return this.http.post(this.commonService.getAPI()+"/getStudentSyllabusList",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{console.log("at service newsDataList:",e),1===e.success&&this.newsDataList.unshift(e.data)}))}updateNewsStatus(r){return this.http.patch(this.commonService.getAPI()+"/updateNewsStatus",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{console.log("at news status update",e),1===e.success&&this.newsDataList.unshift(e.data)}))}fetchNewsListReport(r){return this.http.get(this.commonService.getAPI()+"/getNewsList/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}fetchSyllabusListReport(r){return this.http.get(this.commonService.getAPI()+"/getSyllabusList/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.newsDataList=e.data}))}saveNews(r){return this.http.post(this.commonService.getAPI()+"/saveNews",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{console.log("at service newsDataList:",e),1===e.success&&this.newsDataList.unshift(e.data)}))}fetchAllReceiptIncomeReport(r){return this.http.get(this.commonService.getAPI()+"/getAllIncomeReport/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data,this.incomeReportSubject.next([...this.incomeReportList]),console.log("all Income:",this.incomeReportList)}))}fetchWorkingDaysReport(r){return this.http.get(this.commonService.getAPI()+"/transactions/workingDays/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data,this.incomeReportSubject.next([...this.incomeReportList])}))}fetchStudentBirthDayDaysReport(r){return this.http.get(this.commonService.getAPI()+"/reportStudentBirthday/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data}))}fetchStudentUpcomingDueListReport(r){return this.http.get(this.commonService.getAPI()+"/reportUpcomingDueList/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data}))}fetchStudentToCourseRegistrationReport(r){return this.http.get(this.commonService.getAPI()+"/reportStudentToCourseRegistrationList/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data,this.incomeReportSubject.next([...this.incomeReportList])}))}fetchStudentToCourseRegistrationReportLedgerId(r){return this.http.get(this.commonService.getAPI()+"/reportStudentToCourseRegistrationListLedgerId/"+r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data,this.incomeReportSubject.next([...this.incomeReportList])}))}fetchAllIncomeReport(r){return this.http.post(this.commonService.getAPI()+"/getAllIncomeListReport",r).pipe((0,c.K)(this.errorService.serverError),(0,s.b)(e=>{this.incomeReportList=e.data,this.incomeReportSubject.next([...this.incomeReportList])}))}}return u.\u0275fac=function(r){return new(r||u)(t.LFG(g.v),t.LFG(S.T),t.LFG(L.eN))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);