"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[6510],{6510:(te,_,s)=>{s.r(_),s.d(_,{UserRegistrationModule:()=>ee});var d=s(6895),h=s(4364),r=s(4006),I=s(5226),u=s.n(I),e=s(4650),T=s(7078),v=s(9366),m=s(9549),U=s(7392),c=s(3848),b=s(4144),Z=s(8796),p=s(7466),x=s(805),g=s(5593),A=s(1740);function C(o,i){1&o&&(e.TgZ(0,"mat-icon",42),e._uU(1,"trending_up"),e.qZA(),e._uU(2," User Entry "))}function w(o,i){if(1&o&&(e.TgZ(0,"div",43)(1,"span",44),e._uU(2),e._UZ(3,"br"),e.qZA(),e._UZ(4,"hr")(5,"i",45),e._uU(6,"\xa0 Email :\xa0 "),e.TgZ(7,"b"),e._uU(8),e.qZA(),e._UZ(9,"br")(10,"i",46),e._uU(11,"\xa0 Contact Number : \xa0 "),e.TgZ(12,"b"),e._uU(13),e.qZA(),e._UZ(14,"br")(15,"i",47),e._uU(16,"\xa0 Address : \xa0 "),e.TgZ(17,"b"),e._uU(18),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.hij("",t.organisationName," "),e.xp6(6),e.Oqu(t.emailId),e.xp6(5),e.hij(" ",t.contactNumber,""),e.xp6(5),e.AsE(" ",t.address,", Pin - \xa0 ",t.organisationPin,"")}}function N(o,i){1&o&&(e.TgZ(0,"mat-error",49),e._uU(1," User Name is required"),e.qZA())}function y(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"mat-error",48),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userFormGroup.controls.user_name.errors.required)}}function q(o,i){1&o&&(e.TgZ(0,"mat-error",49),e._uU(1," User Email is required"),e.qZA())}function R(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"mat-error",48),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userFormGroup.controls.email.errors.required)}}function k(o,i){1&o&&(e.TgZ(0,"mat-error",49),e._uU(1," User Contact Number is required"),e.qZA())}function F(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,k,2,0,"mat-error",48),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userFormGroup.controls.mobile1.errors.required)}}function G(o,i){1&o&&(e.TgZ(0,"mat-error",49),e._uU(1," User Password is required"),e.qZA())}function B(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,G,2,0,"mat-error",48),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userFormGroup.controls.password.errors.required)}}function J(o,i){1&o&&(e.TgZ(0,"div")(1,"mat-error",49),e._uU(2," Confirm Password Mismatch "),e.qZA()())}function P(o,i){1&o&&(e.TgZ(0,"div",50)(1,"div",51)(2,"mat-form-field"),e._UZ(3,"input",52),e.qZA()()())}function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSave())}),e._UZ(1,"i",30),e._uU(2,"\xa0 Save"),e.qZA()}}function Y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onUpdate())}),e._UZ(1,"i",30),e._uU(2,"\xa0 Update"),e.qZA()}}function L(o,i){1&o&&(e.TgZ(0,"mat-icon",42),e._uU(1,"list"),e.qZA(),e._uU(2," View User "))}function M(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",55)(1,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),l=e.MAs(67);return e.KtG(a.clear(l))}),e.qZA(),e.TgZ(2,"span",57),e._UZ(3,"i",58),e.TgZ(4,"input",59),e.NdJ("input",function(a){e.CHM(t);const l=e.oxw(),f=e.MAs(67);return e.KtG(f.filterGlobal(l.getEventValue(a),"contains"))}),e.qZA()()()}}function S(o,i){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th",60),e._uU(4,"User Name "),e._UZ(5,"p-sortIcon",61),e.qZA(),e.TgZ(6,"th",62),e._uU(7,"Organisation Name "),e._UZ(8,"p-sortIcon",63),e.qZA(),e.TgZ(9,"th",64),e._uU(10,"User Type "),e._UZ(11,"p-sortIcon",65),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Contact Number"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th",66),e._uU(17,"Action"),e.qZA()())}function Q(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",66)(14,"p-button",67),e.NdJ("click",function(){const l=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.onEditUser(l))}),e.qZA(),e._UZ(15,"p-button",68),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.user_name),e.xp6(2),e.Oqu(t.organisation_name),e.xp6(2),e.Oqu(t.user_type_name),e.xp6(2),e.Oqu(t.mobile1),e.xp6(2),e.Oqu(t.email)}}function E(o,i){1&o&&e._UZ(0,"p-button",69)}function V(o,i){1&o&&(e.TgZ(0,"mat-icon",42),e._uU(1,"thumb_up"),e.qZA(),e._uU(2," Upcoming Birthday "))}const z=function(){return[5,10,25,50]},j=function(){return["organisation_name","user_name","user_type_name","email"]},D=[{path:"",component:(()=>{class o{constructor(t,n){this.organisationService=t,this.authService=n,this.userRegisterArray=[],this.organisationName="",this.address="",this.city="",this.contactNumber="",this.emailId="",this.organisationPin="",this.organisationArray=[],this.allUserArray=[],this.organisationListById=[],this.companyInfoBoolean=!1,this.comfirmPasswordBoolean=!1,this.hiddenInput=!1,this.isBtnVisible=!1,this.active=0,this.selectedIndex=0}ngOnInit(){this.userFormGroup=new r.cw({userId:new r.NI(0,[r.kI.required]),id:new r.NI,organisation_id:new r.NI(1,[r.kI.required]),user_name:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(4)]),password:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),confirm_password:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),mobile1:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),user_type_id:new r.NI(1,[r.kI.required]),email:new r.NI(null,[r.kI.required,r.kI.email])}),this.getAllOrganisation(),this.getAllUserType(),this.getAllUserList()}onTabChanged(t){console.log(t)}getAllOrganisation(){this.organisationService.fetchAllOrganisation().subscribe(t=>{this.organisationArray=t.data,console.log("organisationArray:",this.organisationArray)})}getAllUserList(){this.authService.fetchAllUserList().subscribe(t=>{this.allUserArray=t.data,console.log("All User List:",this.allUserArray)})}getAllUserType(){this.authService.fetchAllUserType().subscribe(t=>{this.userRegisterArray=t.data,console.log("userRegisterArray:",this.userRegisterArray)})}clear(t){t.clear()}getEventValue(t){return t.target.value}changeOrganisation(t){this.companyInfoBoolean=!0,console.log("data:",t),this.organisationName=t.organisation_name,this.address=t.address,this.city=t.city,this.contactNumber=t.contact_number,this.emailId=t.email_id,this.organisationPin=t.pin}onUpdate(){u().fire({title:"Are you sure?",text:"Update This Record...!",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(t=>{t.isConfirmed?this.authService.updateUser(this.userFormGroup.value).subscribe(n=>{1===n.success&&(u().fire({position:"top-end",icon:"success",title:"User has been Update",showConfirmButton:!1,timer:1500}),this.onClear())},n=>{u().fire({icon:"error",title:"Duplicate Entry ..!!",text:n,footer:"<a href>Why do I have this issue?</a>",timer:0})}):t.dismiss===u().DismissReason.cancel&&u().fire("Cancelled","Your imaginary file is safe :)","error")})}onSave(){u().fire({title:"Are you sure?",text:"Save This Record...!",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(t=>{t.isConfirmed?this.authService.saveUser(this.userFormGroup.value).subscribe(n=>{1===n.success&&(u().fire({position:"top-end",icon:"success",title:"User has been Registered",showConfirmButton:!1,timer:1500}),this.onClear())},n=>{u().fire({icon:"error",title:"Duplicate Entry ..!!",text:n,footer:"<a href>Why do I have this issue?</a>",timer:0})}):t.dismiss===u().DismissReason.cancel&&u().fire("Cancelled","Your imaginary file is safe :)","error")})}onBlur(t){this.password=this.userFormGroup.get("password")?.value,console.log("confirm password:",t.target.value),console.log("password:",this.password),this.comfirmPasswordBoolean=this.password===t.target.value}onClear(){this.isBtnVisible=!1,this.userFormGroup=new r.cw({userId:new r.NI(0,[r.kI.required]),id:new r.NI,organisation_id:new r.NI(1,[r.kI.required]),user_name:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(4)]),password:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),confirm_password:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),mobile1:new r.NI(null,[r.kI.required,r.kI.maxLength(255),r.kI.minLength(4)]),user_type_id:new r.NI(1,[r.kI.required]),email:new r.NI(null,[r.kI.required,r.kI.email])}),this.companyInfoBoolean=!1,this.comfirmPasswordBoolean=!1,this.getAllOrganisation(),this.getAllUserType(),this.getAllUserList()}onEditUser(t){console.log("userData:",t),this.selectedIndex=0,this.isBtnVisible=!0,this.userFormGroup.patchValue({userId:t.id}),this.userFormGroup.patchValue({organisation_id:t.organisation_id}),this.userFormGroup.patchValue({user_name:t.user_name}),this.userFormGroup.patchValue({email:t.email}),this.userFormGroup.patchValue({mobile1:t.mobile1}),this.userFormGroup.patchValue({user_type_id:t.user_type_id}),this.userFormGroup.patchValue({password:t.password}),this.userFormGroup.patchValue({confirm_password:t.password})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.w),e.Y36(v.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-registration"]],decls:78,vars:26,consts:[[1,"container-fluid","page"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-12","header"],[1,"bi","bi-cash"],[1,"row"],[1,"col-12","mt-3","feeleft"],["animationDuration","200ms",2,"background-image","linear-gradient(to bottom right, rgb(8, 2, 68), rgb(7, 32, 146))","color","aliceblue","padding","12px","border-radius","5px","padding","0px",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[2,"background-color","white","padding","20px"],[3,"formGroup"],[1,"col-sm-6"],[1,"custom"],[1,"bi","bi-building"],["appearance","outline","bindLabel","organisation_name","bindValue","id","formControlName","organisation_id","autofocus","true","appendTo","body","placeholder","Organisation Name",1,"org-custom",2,"width","100%",3,"items","change"],["class","col-sm-6 comdtl",4,"ngIf"],["appearance","outline",2,"width","100%"],[1,"bi-person-circle"],["matInput","","placeholder","User Name","formControlName","user_name",1,"custom"],[4,"ngIf"],[1,"bi","bi-envelope-fill","mr-1"],["matInput","email","placeholder","Email ID","formControlName","email",1,"custom"],[1,"bi","bi-phone-fill"],["matInput","","placeholder","Contact No","formControlName","mobile1",1,"custom"],["appearance","outline","bindLabel","user_type_name","bindValue","id","formControlName","user_type_id","autofocus","","appendTo","body","placeholder","User Type",1,"custom",2,"width","100%",3,"items"],["formControlName","password","type","password","placeholder","New Password",1,"form-control","pass-custom"],["formControlName","confirm_password","type","password","placeholder","Confirm Password",1,"form-control","pass-custom",3,"blur"],[1,"row","p-2"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-12","text-right"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-save"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"p-2","bd-highlight"],[2,"color","white"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["user",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[2,"background-color","yellow","color","black"],[1,"example-tab-icon"],[1,"col-sm-6","comdtl"],[1,"comname"],[1,"bi","bi-envelope-fill"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-geo-alt-fill"],["class","text-right",4,"ngIf"],[1,"text-right"],[1,"col-sm-2"],[1,"form-group"],["matInput","","placeholder","user ID","formControlName","userId"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"flex"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","user_name"],["field","user_name"],["pSortableColumn","organisation_name"],["field","organisation_name"],["pSortableColumn","user_type_name"],["field","user_type_name"],["colspan","2"],["type","button","icon","pi pi-pencil","styleClass","p-button-text",3,"click"],["type","button","icon","pi pi-trash","styleClass","p-button-text"],["type","button","icon","pi pi-plus","styleClass","p-button-text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e._uU(4,"\xa0 New User"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-tab-group",6),e.NdJ("selectedIndexChange",function(l){return n.onTabChanged(l)})("selectedIndexChange",function(l){return n.selectedIndex=l}),e.TgZ(8,"mat-tab"),e.YNc(9,C,3,0,"ng-template",7),e.TgZ(10,"div",8)(11,"form",9)(12,"div",4)(13,"div",10)(14,"mat-label",11),e._UZ(15,"i",12),e._uU(16,"\xa0Organisation Name "),e.qZA(),e.TgZ(17,"ng-select",13),e.NdJ("change",function(l){return n.changeOrganisation(l)}),e.qZA()(),e.YNc(18,w,19,5,"div",14),e.qZA(),e.TgZ(19,"div",4)(20,"div",10)(21,"mat-form-field",15)(22,"mat-label"),e._UZ(23,"i",16),e._uU(24,"\xa0 User Name "),e.qZA(),e._UZ(25,"input",17),e.YNc(26,y,2,1,"div",18),e.qZA()(),e.TgZ(27,"div",10)(28,"mat-form-field",15)(29,"mat-label"),e._UZ(30,"i",19),e._uU(31," \xa0 Email ID"),e.qZA(),e._UZ(32,"input",20),e.YNc(33,R,2,1,"div",18),e.qZA()()(),e._uU(34,"userFormGroup "),e.TgZ(35,"div",4)(36,"div",10)(37,"mat-form-field",15)(38,"mat-label"),e._UZ(39,"i",21),e._uU(40,"\xa0Contact No"),e.qZA(),e._UZ(41,"input",22),e.YNc(42,F,2,1,"div",18),e.qZA()(),e.TgZ(43,"div",10),e._UZ(44,"ng-select",23),e.qZA()(),e.TgZ(45,"div",4)(46,"div",10),e._UZ(47,"input",24),e.YNc(48,B,2,1,"div",18),e.qZA(),e.TgZ(49,"div",10)(50,"input",25),e.NdJ("blur",function(l){return n.onBlur(l)}),e.qZA(),e.YNc(51,J,3,0,"div",18),e.qZA()(),e.TgZ(52,"div",26),e.YNc(53,P,4,0,"div",27),e.TgZ(54,"div",28)(55,"button",29),e.NdJ("click",function(){return n.onClear()}),e._UZ(56,"i",30),e._uU(57,"\xa0Clear"),e.qZA(),e._uU(58," \xa0 \xa0 "),e.YNc(59,O,3,0,"button",31),e.YNc(60,Y,3,0,"button",32),e.qZA()()()()(),e.TgZ(61,"mat-tab"),e.YNc(62,L,3,0,"ng-template",7),e.TgZ(63,"div",33)(64,"h3",34),e._uU(65,"Student To Course Details"),e.qZA(),e.TgZ(66,"p-table",35,36),e.YNc(68,M,5,0,"ng-template",37),e.YNc(69,S,18,0,"ng-template",38),e.YNc(70,Q,16,6,"ng-template",39),e.YNc(71,E,1,0,"ng-template",40),e.qZA()()(),e.TgZ(72,"mat-tab"),e.YNc(73,V,3,0,"ng-template",7),e.TgZ(74,"pre",41),e._uU(75),e.ALo(76,"json"),e._uU(77,"\n                      "),e.qZA()()()()()()),2&t&&(e.xp6(7),e.Q6J("selectedIndex",n.selectedIndex),e.xp6(4),e.Q6J("formGroup",n.userFormGroup),e.xp6(6),e.Q6J("items",n.organisationArray),e.xp6(1),e.Q6J("ngIf",n.companyInfoBoolean),e.xp6(8),e.Q6J("ngIf",n.userFormGroup.controls.user_name.errors&&n.userFormGroup.controls.user_name.touched),e.xp6(7),e.Q6J("ngIf",n.userFormGroup.controls.email.errors&&n.userFormGroup.controls.email.touched),e.xp6(9),e.Q6J("ngIf",n.userFormGroup.controls.mobile1.errors&&n.userFormGroup.controls.mobile1.touched),e.xp6(2),e.Q6J("items",n.userRegisterArray),e.xp6(4),e.Q6J("ngIf",n.userFormGroup.controls.password.errors&&n.userFormGroup.controls.password.touched),e.xp6(3),e.Q6J("ngIf",!n.comfirmPasswordBoolean),e.xp6(2),e.Q6J("ngIf",n.hiddenInput),e.xp6(6),e.Q6J("ngIf",n.userFormGroup.valid&&n.comfirmPasswordBoolean&&!n.isBtnVisible),e.xp6(1),e.Q6J("ngIf",n.userFormGroup.valid&&n.isBtnVisible),e.xp6(6),e.Q6J("value",n.allUserArray)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(24,z))("globalFilterFields",e.DdM(25,j)),e.xp6(9),e.lnq("                        userFormGroup = ",e.lcZ(76,22,n.userFormGroup.value),"\n                        userFormGroup.valid = ",n.userFormGroup.valid,"\n                        comfirmPasswordBoolean = ",n.comfirmPasswordBoolean,"\n                       "))},dependencies:[d.O5,m.TO,m.KE,m.hX,U.Hw,c.SP,c.uD,c.uX,b.Nt,Z.w9,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,p.iA,x.jx,p.lQ,p.fz,g.Hq,g.zx,A.o,d.Ts],styles:[".header[_ngcontent-%COMP%]{background-color:#383838;padding:.5em 1em;font-size:1.5em;margin:0;color:#fff;box-shadow:#00000059 0 5px 15px}.feeleft[_ngcontent-%COMP%]{border-radius:10px;box-shadow:#00000059 0 5px 15px;background-color:#fff}.comdtl[_ngcontent-%COMP%]{font-size:medium;background-color:#ff4500;border-radius:10px;padding:10px;margin-bottom:10px}.comname[_ngcontent-%COMP%]{font-size:2em;font-weight:800;letter-spacing:.1em;color:#100998}.pass-custom[_ngcontent-%COMP%]{border:1px solid rgb(6,6,6);padding:10px}.org-custom[_ngcontent-%COMP%]{border-radius:10px;background-color:#e8e5e4}  .mat-step-header .mat-step-icon-selected,   .mat-step-header .mat-step-icon-state-done,   .mat-step-header .mat-step-icon-state-edit{background-color:#050505!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#050505!important}  .custom{color:#050505!important;font-size:medium!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#050505!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#050505!important;opacity:.8!important}  .mat-input-element{caret-color:#050505!important}  .mat-form-field-invalid .mat-input-element,   .mat-warn .mat-input-element{caret-color:#050505!important}  .mat-form-field-label{color:#a9a4a4!important;font-size:large!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#050505!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#050505!important}"]}),o})()}];let H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(D),h.Bz]}),o})();var K=s(4850),X=s(6338),$=s(8255),W=s(3683);let ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,H,m.lN,U.Ps,K.t,X.ie,$.Tx,W.g0,c.Nh,b.c,Z.A0,r.u5,r.UX,p.U$,g.hJ,A.j]}),o})()}}]);