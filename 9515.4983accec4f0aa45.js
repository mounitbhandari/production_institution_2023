"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[9515],{9515:(J,j,o)=>{o.r(j),o.d(j,{SubjectsModule:()=>mt});var s=o(6895),h=o(4364),r=o(4006),I=o(5226),f=o.n(I),t=o(4650),_=o(6102),p=o(9549),x=o(4144),C=o(5593),T=o(805),v=o(7466),S=o(8796),y=o(7392),b=o(3848),A=o(1740);function F(a,l){1&a&&(t.TgZ(0,"mat-icon",38),t._uU(1,"trending_up"),t.qZA(),t._uU(2," News & Announcements Entry "))}function w(a,l){1&a&&(t.TgZ(0,"mat-error",40),t._uU(1," Subject Code is required"),t.qZA())}function U(a,l){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,w,2,0,"mat-error",39),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.subjectsFormGroup.controls.subjectCode.errors.required)}}function Z(a,l){1&a&&(t.TgZ(0,"mat-error",40),t._uU(1," Subject Name is required"),t.qZA())}function G(a,l){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Z,2,0,"mat-error",39),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.subjectsFormGroup.controls.subjectFullName.errors.required)}}function D(a,l){1&a&&(t.TgZ(0,"div",12)(1,"div",41)(2,"mat-form-field",42),t._UZ(3,"input",43),t.qZA()()())}function N(a,l){if(1&a){const n=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.saveSubject())}),t.TgZ(1,"i",45),t._uU(2," Save "),t.qZA()()}if(2&a){const n=t.oxw();t.Q6J("disabled",!n.subjectsFormGroup.valid)}}function e(a,l){if(1&a){const n=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.updateSubject())}),t.TgZ(1,"i",45),t._uU(2," Update "),t.qZA()()}}function i(a,l){1&a&&(t.TgZ(0,"mat-icon",38),t._uU(1,"list"),t.qZA(),t._uU(2," View News & Announcements "))}function c(a,l){if(1&a){const n=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){t.CHM(n);const m=t.oxw(),u=t.MAs(60);return t.KtG(m.clear(u))}),t.qZA(),t.TgZ(2,"span",49),t._UZ(3,"i",50),t.TgZ(4,"input",51),t.NdJ("input",function(m){t.CHM(n);const u=t.oxw(),M=t.MAs(60);return t.KtG(M.filterGlobal(u.getEventValue(m),"contains"))}),t.qZA()()()}}function g(a,l){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"th",52),t._uU(4,"Short Name "),t._UZ(5,"p-sortIcon",53),t.qZA(),t.TgZ(6,"th",54),t._uU(7,"Subject Full Name "),t._UZ(8,"p-sortIcon",55),t.qZA(),t.TgZ(9,"th",56),t._uU(10,"Edit "),t._UZ(11,"p-sortIcon",57),t.qZA(),t.TgZ(12,"th",58),t._uU(13,"Delete "),t._UZ(14,"p-sortIcon",59),t.qZA()())}function k(a,l){if(1&a){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"p-button",60),t.NdJ("click",function(){const u=t.CHM(n).$implicit,M=t.oxw();return t.KtG(M.editSubject(u))}),t.qZA()(),t.TgZ(9,"td")(10,"p-button",61),t.NdJ("click",function(){const u=t.CHM(n).$implicit,M=t.oxw();return t.KtG(M.deleteSubject(u))}),t.qZA()()()}if(2&a){const n=l.$implicit,d=l.rowIndex;t.xp6(2),t.Oqu(d+1),t.xp6(2),t.Oqu(n.subject_short_name),t.xp6(2),t.Oqu(n.subject_full_name)}}function L(a,l){1&a&&t._UZ(0,"p-button",62)}function B(a,l){1&a&&(t.TgZ(0,"mat-icon",38),t._uU(1,"thumb_up"),t.qZA(),t._uU(2," Upcoming Birthday "))}const H=function(){return{height:"120px"}},O=function(){return[5,10,25,50]},Q=function(){return["id","subject_short_name","subject_full_name"]},q=[{path:"",component:(()=>{class a{constructor(n){this.courseService=n,this.UserID=0,this.organisationId=0,this.durationTypes=[],this.hiddenInput=!1,this.isShown=!1,this.tempSubjectDataObject={},this.subjectArray=[],this.selectedIndex=0;const d=localStorage.getItem("user");d&&(this.UserID=JSON.parse(d).uniqueId,this.organisationId=JSON.parse(d).organisationId,console.log("user localUserID:",this.UserID),console.log("user organisationId:",this.organisationId)),this.getDuratioinTypes(),this.getSubjectList(this.organisationId)}ngOnInit(){this.subjectsFormGroup=new r.cw({durationTypeId:new r.NI(2,[r.kI.required]),subjectFullName:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(5)]),subjectCode:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(2)]),subjectShortName:new r.NI,subjectDuration:new r.NI,subjectDescription:new r.NI,subjectId:new r.NI})}onTabChanged(n){console.log(n)}getDuratioinTypes(){this.courseService.fetchAllDurationType().subscribe(n=>{this.durationTypes=n.data,console.log("SubjectList:",this.durationTypes)})}clearSubject(){this.subjectsFormGroup=new r.cw({durationTypeId:new r.NI(2,[r.kI.required]),subjectFullName:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(5)]),subjectCode:new r.NI(null,[r.kI.required,r.kI.maxLength(100),r.kI.minLength(2)]),subjectShortName:new r.NI,subjectDuration:new r.NI,subjectDescription:new r.NI,subjectId:new r.NI})}getSubjectList(n){this.courseService.fetchAllSubject(n).subscribe(d=>{this.subjectArray=d.data,console.log("subjectArrayProblem:",this.subjectArray)})}saveSubject(){this.tempSubjectDataObject={durationTypeId:this.subjectsFormGroup.value.durationTypeId,subjectFullName:this.subjectsFormGroup.value.subjectFullName,subjectCode:this.subjectsFormGroup.value.subjectCode,subjectShortName:this.subjectsFormGroup.value.subjectShortName,subjectDuration:this.subjectsFormGroup.value.subjectDuration,subjectDescription:this.subjectsFormGroup.value.subjectDescription,organisationId:this.organisationId},f().fire({title:"Are you sure?",text:"Save This Record...?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save it!",cancelButtonText:"No, keep it"}).then(n=>{n.isConfirmed?this.courseService.saveSubject(this.tempSubjectDataObject).subscribe(d=>{1===d.success&&f().fire({position:"top-end",icon:"success",title:"Subject has been saved",showConfirmButton:!1,timer:1500}),this.clearSubject(),this.getSubjectList(this.organisationId)},d=>{f().fire({icon:"error",title:"Oops...",text:d,footer:"<a href>Why do I have this issue?</a>",timer:0})}):n.dismiss===f().DismissReason.cancel&&f().fire("Cancelled","Your imaginary file is safe :)","error")})}updateSubject(){}editSubject(n){}deleteSubject(n){}clear(n){n.clear()}getEventValue(n){return n.target.value}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(_.N))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-subjects"]],decls:68,vars:21,consts:[[1,"container-fluid","page"],[1,"page__box","p-3","mt-1","ml-1"],[1,"page__content","shadow","p-3","position-relative"],[1,"container"],[1,"row"],[1,"col-xs-12","col-sm-12"],[1,"main-div"],["animationDuration","200ms",2,"background-image","linear-gradient(to bottom right, rgb(8, 2, 68), rgb(7, 32, 146))","color","aliceblue","padding","12px","border-radius","5px","padding","0px",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"col-sm-4"],[2,"width","100%"],["matInput","","formControlName","subjectCode","placeholder","C0001","required",""],[4,"ngIf"],["matInput","","formControlName","subjectShortName","placeholder","Short Name","required",""],[1,"col-sm-8"],["matInput","","placeholder","Subject Full Name","formControlName","subjectFullName"],["matInput","","formControlName","subjectDuration","placeholder","100","required",""],["bindLabel","durationName","bindValue","durationTypeId","formControlName","durationTypeId","autofocus","","appendTo","body","placeholder","Duration Type",1,"custom",2,"width","100%",3,"items"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-6",2,"width","100%"],[2,"color","black","font-weight","bolder"],["formControlName","subjectDescription",1,"col-12",3,"maxlength"],["message",""],["align","end",2,"color","brown"],["align","right"],["pButton","",1,"p-button-rounded","p-button-info","p-button-outlined",3,"click"],[1,"bi","bi-clear",2,"font-size","1rem"],["pButton","","class","p-button-rounded p-button-info",3,"disabled","click",4,"ngIf"],["pButton","","class","p-button-rounded p-button-info",3,"click",4,"ngIf"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["subjectList",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[1,"example-tab-icon"],["class","text-right",4,"ngIf"],[1,"text-right"],[1,"form-group"],[1,"col-4"],["matInput","","placeholder","Subject ID","formControlName","subjectId"],["pButton","",1,"p-button-rounded","p-button-info",3,"disabled","click"],[1,"bi","bi-save",2,"font-size","1rem"],["pButton","",1,"p-button-rounded","p-button-info",3,"click"],[1,"flex"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","subject_short_name"],["field","subject_short_name"],["pSortableColumn","subject_full_name"],["field","subject_full_name"],["pSortableColumn","edit"],["field","edit"],["pSortableColumn","delete"],["field","delete"],["type","button","icon","pi pi-pencil","styleClass","p-button-text",3,"click"],["type","button","icon","pi pi-trash","styleClass","p-button-text",3,"click"],["type","button","icon","pi pi-plus","styleClass","p-button-text"]],template:function(n,d){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Subject Entry Form"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"mat-tab-group",7),t.NdJ("selectedIndexChange",function(u){return d.onTabChanged(u)})("selectedIndexChange",function(u){return d.selectedIndex=u}),t.TgZ(9,"mat-tab"),t.YNc(10,F,3,0,"ng-template",8),t.TgZ(11,"div",9)(12,"div",10)(13,"form",11)(14,"div",4)(15,"div",12)(16,"mat-form-field",13)(17,"mat-label"),t._uU(18,"Subject Code / Class"),t.qZA(),t._UZ(19,"input",14),t.YNc(20,U,2,1,"div",15),t.qZA()()(),t.TgZ(21,"div",4)(22,"div",12)(23,"mat-form-field",13)(24,"mat-label"),t._uU(25,"Short Name"),t.qZA(),t._UZ(26,"input",16),t.qZA()(),t.TgZ(27,"div",17)(28,"mat-form-field",13),t._UZ(29,"input",18),t.YNc(30,G,2,1,"div",15),t.qZA()()(),t.TgZ(31,"div",4)(32,"div",12)(33,"mat-form-field",13)(34,"mat-label"),t._uU(35,"Duration:"),t.qZA(),t._UZ(36,"input",19),t.qZA()(),t.TgZ(37,"div",12),t._UZ(38,"ng-select",20),t.qZA(),t.YNc(39,D,4,0,"div",21),t.qZA(),t.TgZ(40,"div",4)(41,"div",22)(42,"h3",23),t._uU(43,"Description: "),t.qZA(),t.TgZ(44,"textarea",24,25),t._uU(46,"                                                    "),t.qZA(),t.TgZ(47,"mat-hint",26),t._uU(48),t.qZA()()(),t.TgZ(49,"div",27)(50,"button",28),t.NdJ("click",function(){return d.clearSubject()}),t.TgZ(51,"i",29),t._uU(52," Clear "),t.qZA()(),t._uU(53,"\xa0\xa0\xa0 "),t.YNc(54,N,3,1,"button",30),t.YNc(55,e,3,0,"button",31),t.qZA()()()()(),t.TgZ(56,"mat-tab"),t.YNc(57,i,3,0,"ng-template",8),t.TgZ(58,"div",10)(59,"p-table",32,33),t.YNc(61,c,5,0,"ng-template",34),t.YNc(62,g,15,0,"ng-template",35),t.YNc(63,k,11,3,"ng-template",36),t.YNc(64,L,1,0,"ng-template",37),t.qZA()()(),t.TgZ(65,"mat-tab"),t.YNc(66,B,3,0,"ng-template",8),t._uU(67," Content 3 "),t.qZA()()()()()()()()),2&n){const m=t.MAs(45);t.xp6(8),t.Q6J("selectedIndex",d.selectedIndex),t.xp6(5),t.Q6J("formGroup",d.subjectsFormGroup),t.xp6(7),t.Q6J("ngIf",d.subjectsFormGroup.controls.subjectCode.errors&&d.subjectsFormGroup.controls.subjectCode.touched),t.xp6(10),t.Q6J("ngIf",d.subjectsFormGroup.controls.subjectFullName.errors&&d.subjectsFormGroup.controls.subjectFullName.touched),t.xp6(8),t.Q6J("items",d.durationTypes),t.xp6(1),t.Q6J("ngIf",d.hiddenInput),t.xp6(5),t.Akn(t.DdM(18,H)),t.Q6J("maxlength",1e3),t.xp6(4),t.hij("",m.value.length," / 1000"),t.xp6(6),t.Q6J("ngIf",!d.isShown),t.xp6(1),t.Q6J("ngIf",d.isShown),t.xp6(4),t.Q6J("value",d.subjectArray)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(19,O))("globalFilterFields",t.DdM(20,Q))}},dependencies:[s.O5,p.TO,p.KE,p.bx,p.hX,x.Nt,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,C.Hq,C.zx,T.jx,v.iA,v.lQ,v.fz,S.w9,y.Hw,b.SP,b.uD,b.uX,A.o],styles:[".page[_ngcontent-%COMP%]{color:#0c0c0c;background:whitesmoke}.page__box[_ngcontent-%COMP%]{min-height:100px;background:whitesmoke;margin:0 -3rem;font-size:24px}.page__content[_ngcontent-%COMP%]{min-height:50vh;border-radius:10px;margin-top:-3rem;background:rgb(224,224,224);border:2px solid black;color:#000;font-size:20px}.example-form[_ngcontent-%COMP%]{min-width:100%;max-width:100%;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}  .mat-form-field .mat-input-element{color:#080808;font-size:medium;font-family:Roboto,sans-serif}  .mat-form-field .mat-form-field-label{color:#0a0a0a;font-family:Roboto,sans-serif;font-size:medium}  .mat-form-field .mat-form-field-underline{background-color:#04203b}  .mat-form-field .mat-form-field-ripple{background-color:#708090}  .mat-form-field .mat-form-field-required-marker{color:#be1509}"]}),a})()}];let P=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild(q),h.Bz]}),a})();var Y=o(6257),z=o(1795),E=o(5121),X=o(4859),R=o(2137),K=o(7729),$=o(1236),V=o(9764),W=o(2210),tt=o(9602),et=o(3238),at=o(5362),nt=o(1167),ot=o(3608),rt=o(3214),it=o(2124),ct=o(7957),dt=o(4850),st=o(6338),lt=o(3546);let mt=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.ez,P,x.c,r.u5,r.UX,Y.T5,C.hJ,z.T,E.Z_,v.U$,X.ot,R.D,K.S,$.q,V.Q,W.kW,S.A0,tt.FA,et.XK,at.Qy,nt.KZ,ot.z,rt.l,it.IJ,ct.Bb,y.Ps,dt.t,st.ie,b.Nh,lt.QW,A.j,p.lN]}),a})()},3546:(J,j,o)=>{o.d(j,{$j:()=>T,C1:()=>D,QW:()=>N,a8:()=>Z,dn:()=>x,n5:()=>C,vP:()=>b});var s=o(4650),h=o(3238);const r=["*",[["mat-card-footer"]]],I=["*","mat-card-footer"],_=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],p=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let x=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),e})(),Z=(()=>{class e{constructor(c){this._animationMode=c}}return e.\u0275fac=function(c){return new(c||e)(s.Y36(s.QbO,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(c,g){2&c&&s.ekj("_mat-animation-noopable","NoopAnimations"===g._animationMode)},exportAs:["matCard"],ngContentSelectors:I,decls:2,vars:0,template:function(c,g){1&c&&(s.F$t(r),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),e})(),D=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:p,decls:4,vars:0,template:function(c,g){1&c&&(s.F$t(_),s.TgZ(0,"div"),s.Hsn(1),s.qZA(),s.Hsn(2,1),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),e})(),N=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[h.BQ,h.BQ]}),e})()}}]);